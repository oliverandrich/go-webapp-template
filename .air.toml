# Air configuration for live reload
# https://github.com/air-verse/air

root = "."
tmp_dir = "tmp"

[build]
cmd = "mkdir -p tmp internal/assets/static/dist && templ generate && tailwindcss -i internal/assets/static/css/input.css -o internal/assets/static/dist/styles.css && cat internal/assets/static/js/htmx.js internal/assets/static/js/webauthn.js > internal/assets/static/dist/app.js && go build -tags dev -o ./tmp/app ./cmd/app"
bin = "./tmp/app"
delay = 1000
exclude_dir = ["tmp", "vendor", "data", "internal/assets/static/dist"]
exclude_regex = ["_test.go", "_templ.go"]
exclude_unchanged = false
follow_symlink = false
include_ext = ["go", "toml", "templ", "css", "js"]
kill_delay = "0s"
log = "build-errors.log"
send_interrupt = true
stop_on_error = true

[color]
app = ""
build = "yellow"
main = "magenta"
runner = "green"
watcher = "cyan"

[log]
time = false

[misc]
clean_on_exit = true
