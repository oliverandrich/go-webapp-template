# Server configuration
[server]
host = "localhost"
port = 8080
base_url = "http://localhost:8080"
max_body_size = 1  # MB

# Logging configuration
[log]
level = "info"   # debug, info, warn, error
format = "text"  # text, json

# Database configuration
[database]
dsn = "./data/app.db"  # SQLite database path, use ":memory:" for in-memory

# TLS configuration
[tls]
mode = "auto"              # auto, acme, selfsigned, manual, off
cert_dir = "./data/certs"  # Directory for auto-generated certificates
email = ""                 # Email for ACME/Let's Encrypt (required for acme mode)
cert_file = ""             # Path to certificate file (manual mode)
key_file = ""              # Path to private key file (manual mode)

# WebAuthn configuration
[webauthn]
rp_id = ""                 # Relying Party ID (domain), defaults to host
rp_origin = ""             # Relying Party Origin (URL), defaults to base_url
rp_display_name = "Go Web App"  # Display name shown to users

# Session configuration
[session]
cookie_name = "_session"   # Session cookie name
max_age = 604800           # Session max age in seconds (7 days)
hash_key = ""              # 32-byte hex string for HMAC signing (auto-generated in dev)
block_key = ""             # 32-byte hex string for AES encryption (optional)

# Authentication configuration
[auth]
use_email = false          # Use email instead of username for authentication
require_verification = true  # Require email verification before login (when use_email is enabled)

# SMTP configuration (required when auth.use_email is enabled)
[smtp]
host = ""                  # SMTP server host (e.g., "smtp.example.com")
port = 587                 # SMTP port (25, 465 for implicit TLS, 587 for STARTTLS)
username = ""              # SMTP username
password = ""              # SMTP password
from = ""                  # Sender email address (e.g., "noreply@example.com")
from_name = ""             # Sender display name (e.g., "My App")
tls = true                 # Enable TLS (auto-detects mode based on port: 465=implicit TLS, other=STARTTLS)
